<div class="container py-5">
  <div class="row">
    <div class="col-12 col-lg-10 mx-auto">
      <h2>新規投稿</h2>

      <% if @post.errors.any? %>
        <%= @post.errors.count %>件のエラーが発生しました
        <ul>
          <% @post.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      <% end %>

      <%= form_with model: @post do |f| %>
        <div class="form-group">
          <%= f.label :group_id, '投稿先グループ' %>
          <%= f.select :group_id, options_for_select(@join_groups, @join_group_selected), {include_blank: '選択してください。'}, {class: 'form-control'} %>
        </div>
        <div class="form-group">
          <%= f.label :title, 'タイトル' %>
          <%= f.text_field :title, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= f.label :body, '本文' %>
          <%= f.text_area :body, rows: 5, class: 'form-control' %>
        </div>

        <div class="form-group">
          <%= f.label :image, '画像' %>
          <%= f.file_field :image, accept: "image/*" %>

        <div class="form-group">
          <div class="row">
            <div class="col-md-6 mx-auto">
              <%= f.submit '投稿', class: 'btn btn-outline-secondary btn-block' %>
            </div>
          </div>
        </div>

      <% end %>
    </div>
  </div>
</div>